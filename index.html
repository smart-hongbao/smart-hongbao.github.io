<html>
<head>
<script src="https://unpkg.com/@metamask/detect-provider/dist/detect-provider.min.js"></script>
<script type="text/javascript">
(async function(){
  const provider = await detectEthereumProvider()

  if (provider) {
    alert("Has provider")
       const accounts = await provider.request({method: 'eth_requestAccounts'})
	  alert(accounts)
		  
  } else {
    alert("No provider")
  }
})()
</script>
</head>
<body>
	hello
<script>
    window.addEventListener('DOMContentLoaded', async (event) => {
	alert(window.ethereum)
	alert(window.imToken)
        if (typeof window.ethereum === 'undefined') {
	    if (typeof window.web3 !== 'undefined') {
	       window.ethereum = window.web3
	    }
        }
    })

//if (window.ethereum) {
//  handleEthereum();
//} else {
//  window.addEventListener('ethereum#initialized', handleEthereum, {
//    once: true,
//  });
//
//  // If the event is not dispatched by the end of the timeout,
//  // the user probably doesn't have MetaMask installed.
//  setTimeout(handleEthereum, 9000); // 9 seconds
//}
//
//function handleEthereum() {
//  const { ethereum } = window;
//  if (ethereum) {
//    alert('Ethereum successfully detected!');
//    // Access the decentralized web!
//  } else {
//    alert('Please install MetaMask!');
//  }
//}
</script>
</body>
</html>

